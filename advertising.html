<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
  <script type="text/javascript" src="./assets/js/highlight.pack.js"></script>
  <script type="text/javascript" src="./assets/js/main.js"></script>
  <script type="text/javascript" src="./assets/js/jquery_rotate.js"></script>
  
  <script>
    
$(function(){

	// select the tab in the sidebar to reflect current page position

	var tabName = "Advertising";

	$('.nav-link.active').removeClass('active');
	var nav_link = $('.nav-link:contains("' + tabName + '")');
	nav_link.addClass('active');
	
});
  </script>

  <script>hljs.initHighlightingOnLoad();</script>


  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="./assets/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="./assets/css/bvbootstrap.css">
  <link rel="stylesheet" type="text/css" href="./assets/css/highlightjs/default.min.css">
  <link rel="stylesheet" type="text/css" href="./assets/css/main.css">

  
  <link rel="apple-touch-icon-precomposed" sizes="57x57" href="./public/apple-touch-icon-57x57.png" />
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="./public/apple-touch-icon-114x114.png" />
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="./public/apple-touch-icon-72x72.png" />
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="./public/apple-touch-icon-144x144.png" />
  <link rel="apple-touch-icon-precomposed" sizes="60x60" href="./public/apple-touch-icon-60x60.png" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="./public/apple-touch-icon-120x120.png" />
  <link rel="apple-touch-icon-precomposed" sizes="76x76" href="./public/apple-touch-icon-76x76.png" />
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="./public/apple-touch-icon-152x152.png" />
  <link rel="icon" type="image/png" href="./public/favicon-196x196.png" sizes="196x196" />
  <link rel="icon" type="image/png" href="./public/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/png" href="./public/favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="./public/favicon-16x16.png" sizes="16x16" />
  <link rel="icon" type="image/png" href="./public/favicon-128.png" sizes="128x128" />
  <meta name="application-name" content="&nbsp;"/>
  <meta name="msapplication-TileColor" content="#FFFFFF" />
  <meta name="msapplication-TileImage" content="./public/mstile-144x144.png" />
  <meta name="msapplication-square70x70logo" content="./public/mstile-70x70.png" />
  <meta name="msapplication-square150x150logo" content="./public/mstile-150x150.png" />

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-56370630-5', 'auto');
    ga('set', {
      title: 'Advertising'
    });
    ga('send', 'pageview');
  </script>

</head>


  <body>
    <div id="portal_container">

      

      <nav class="navbar-fixed-top">
    <div class="navbar-header">
        <div class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"
             aria-expanded="false">
            <i class="fa fa-bars fa-3"
               style="color:#fffff5; background-color: #00AB8E; padding:7px; border-radius: 3px;"></i>

            <a href="/" class="bv_logo" style="font-size: 22px;">
                <span class="bv_teal">&nbsp;bazaar</span><span class="bv_white">voice</span><span
                    class="bv_teal">:</span>
            </a>
        </div>

    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav side-nav nav-stacked nav-pills">
            <div class="bv_logo">
                <a href="/">
                    <span class="bv_teal">bazaar</span><span class="bv_white">voice</span><span class="bv_teal">:</span>
                </a>
            </div>
            <li class="nav-item">
                <a class="nav-link active" href="index.html">
                    <span><i class="m-r-1 fa fa-file-text-o"></i>Getting Started</span>
                </a>
                <ul>
                    <li class="nav-item">
                        <a class="nav-link" href="installation.html">
                            <span>Installation and Configuration</span>
                        </a>
                    </li>
                </ul>
            </li>
            <li class="nav-item">
                <span class="nav-link" href="modules.html">
                    <span><i class="m-r-1 fa fa-cogs"></i>Modules</span>
                </span>
                <ul>
                    <li class="nav-item">
                        <a class="nav-link" href="product_recommendations.html"><span>Product Recommendations</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="advertising.html"><span>Advertising</span></a>
                    </li>
                    <li class="nav-item">

                        <a class="nav-link" role="button" data-toggle="collapse" href="#curationsDropdown"
                           aria-expanded="false" aria-controls="curationsDropdown">
                                <span><span>Curations</span><span style="float:right;"><i id="curationsDropdownArrow"
                                                                                          class="fa fa-sort-desc  fa-rotate-270"></i></span></span>
                        </a>
                        <div class="collapse "
                             id="curationsDropdown">
                            <ul>
                                <li class="nav-item">
                                    <a class="nav-link" href="curations_display.html"><span>Curations Display</span></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="curations_custom_posts.html"><span>Curations Custom Posts</span></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="curations_example_app.html"><span>Curations Example App</span></a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" role="button" data-toggle="collapse" href="#conversationsDropdown"
                           aria-expanded="false" aria-controls="conversationsDropdown">
                                <span><span>Conversations</span><span style="float:right;"><i
                                        id="conversationsDropdownArrow"
                                        class="fa fa-sort-desc fa-rotate-270"></i></span></span>
                        </a>
                        <div class="collapse "
                             id="conversationsDropdown">
                            <ul>
                                <li class="nav-item">
                                    <a class="nav-link" href="using_conversations.html"><span>Using Conversations</span></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="conversations_iovation.html"><span>Authenticity with iovation</span></a>
                                </li>
                            </ul>
                        </div>

                    </li>
                </ul>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="bv_pixel.html">
                    <span><i class="m-r-1 fa fa-dot-circle-o"></i>BV Pixel</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="user_authentication_token.html">
                    <span><i class="m-r-1 fa fa-lock"></i>User Authentication Token</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="example_projects.html">
                    <span><i class="m-r-1 fa fa-file-code-o"></i>Example Projects</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="faq_support.html">
                    <span><i class="m-r-1 fa fa-question-circle"></i>FAQ & Support</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="./assets/api_reference/index.html">
                    <span><i class="m-r-1 fa fa-book"></i>API Reference</span>
                </a>
            </li>
            <br>
            <li class="nav-item">
                <a class="nav-link"
                   href="mailto:mobilecoreteam@bazaarvoice.com?subject=Android SDK documentation feedback"
                   style="border: 1px #fff solid;">
                    <span><i class="m-r-1 fa fa-envelope"></i>Feedback</span>
                </a>
            </li>
        </ul>
    </div>
</nav>

      <div id="application_container">
        <div id="task_container">
          <div id="task_content" class="app-content">
            <div class="scroll-container scrollable--scrollbar">
              <div class="page-container">

                <div class="flex flex-row" id="content_title">
	Targeted Advertising
</div>

<p>Targeted advertising is powered by Bazaarvoice's powerful shopper segment data and delivers highly targeted advertisements to your users.</p>
<p>The BVAdvertising module is architected so that you can implement the DFP (Doubleclick For Publishers) SDK, and pair it with Bazaarvoice's shopper segment functionality easily.</p>

<p class="bg-warning well-lg" style="padding:4px;"><i class="fa fa-hand-o-right"></i>  Contact Bazaarvoice about setting up targeted ads in DFP, and to get your <code>apiKeyShopperAdvertising</code> (required below) and DFP <code>adUnitId</code>'s.</p>

<hr>
<br>





<div class="panel panel-default">
  <div class="panel-heading" role="tab" id="heading-installationCollapse">
    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#installationCollapse" aria-expanded="false" aria-controls="installationCollapse" style="text-decoration: none">
      <div class="flex flex-row" style="align-items: center; padding-bottom: 10px;">
          <i id="installationArrow" class="fa fa-chevron-right" style="color:#777; padding-right: 10px;"></i>
          <h5 style="margin-bottom: 0;">Installation Instructions</h5>
      </div>
      <div class="flex flex-row">
          <p style="color:#444; margin-bottom: 6px;">Click here to see how to install and configure the BVSDK.</p>
      </div>
      <div style="clear:both;"></div>
    </a>
  </div>
  <div id="installationCollapse" class="panel-collapse collapse " role="tabpanel" aria-labelledby="headingOne">
    <div class="panel-body">

<h3>Installation with Gradle</h3>
<p>Include the Maven Central repository and add Bazaarvoice's modules to your dependencies:</p>


<pre><code>dependencies {
    compile 'com.bazaarvoice.bvandroidsdk:advertising:4.0.0'
    compile 'com.google.android.gms:play-services-ads:8.4.0'
}
repositories {
    mavenCentral()
} </code></pre>



<br>

<h3>Extend Application</h3>
<p>Create a class that extends <code>android.app.Application</code> and initialize the SDK using its builder.</p>
<p>A full list of build options are found in <code>BVSDK.java</code>.</p>
<p>Below, <code>YOUR_CLIENT_ID</code> represents your client name, e.g. "<strong>bazaarvoice</strong>". If you are unsure of your client ID or API key values, you can request help <a href="https://developer.bazaarvoice.com/support">through the support portal</a> or your implementation team.</p>

<pre><code class="java">public class MyApplication extends Application {

    @Override
    public void onCreate(){
        super.onCreate();

        // Builder used to initialize the Bazaarvoice SDKs
        BVSDK bvsdk = new BVSDK.Builder(this, YOUR_CLIENT_ID) //your client name, e.g. 'bazaarvoice'.
            .bazaarEnvironment(BazaarEnvironment.PRODUCTION) // production or staging
            .apiKeyShopperAdvertising(YOUR_SHOPPER_ADVERTISING_API_KEY) //Required for Ads
            .logLevel(BVLogLevel.INFO)
            .build();
    }
}
</code></pre>
<br>

<h3>AndroidManifest</h3>
<pre><code class="xml">&lt;!-- Request internet permission, if not already there. --&gt;
&lt;uses-permission android:name="android.permission.INTERNET" /&gt;

&lt;!-- set the name of the class for the application entry --&gt;
&lt;application
    android:name=".MyApplication"&gt;
&lt;/application&gt;</code></pre>


		</div>
    </div>
  </div>
<br>




<h3>Set User Information</h3>
<p>
	Once a user is authenticated inside your user login workflow, set an authenticated user to enable profile matching. Please refer to <a href="https://github.com/bazaarvoice/bv-android-sdk-dev/wiki/User-Authentication">User Authentication</a> for steps on how to accomplish this.
</p>

<p class="bg-info well-lg" style="padding:4px;"><i class="fa fa-hand-o-right"></i>  Note: the userAuthString created with your existing Bazaarvoice implementation logic needs to be given to the <strong>BVSDK.getInstance()</strong> object. However, the steps to encrypt your userAuthString are still applicable even if you are not a Conversations client.</p>

<h5>Example Authentication String - for testing purposes</h5>
<p>
	If you don't have an authorization token set up yet, please refer to the example in <a href="./user_authentication_token.html">User Authentication Token</a>.
</p>


<br>
<h3>Implementation</h3>
<p>Users of this SDK are asked to implement ads using <a href="https://developers.google.com/mobile-ads-sdk/docs/dfp/android/quick-start">DFP's SDK for Android</a>. Contact Bazaarvoice about serving ads in your app to get everything properly set up in DFP. Once ads are implemented, continue on below:</p>
<p>Adding targeting data to your advertisements is simple. For every <code>PublisherAdRequest.Builder</code> that you use, call the <code>addCustomTargeting</code> method as follows:</p>
<pre><code class="java">...
PublisherAdRequest.Builder publisherAdRequest = new PublisherAdRequest.Builder();
Map<String, String> targetingKeywords = BVAds.getCustomTargeting();
for (Map.Entry<String, String> entry : targetingKeywords.entrySet()) {
    publisherAdRequest.addCustomTargeting(entry.getKey(), entry.getValue());
}
...</code></pre>
<p>This sends along necessary information to DFP to properly target ads for that user.</p>
<br>

<h3>Upgrading from old versions of BVSDK</h3>
<p>Previously, DFP's SDK was included with the BVSDK, and users were asked to use BVSDK methods, like using <code>bvAds.getTargetedAdRequest()</code> instead of <code>new PublisherAdRequest.Builder()</code>. However, we've simplified this process greatly.
Now, users of Bazaarvoice Advertising are asked to implement DFP ads on their own, following their <a href="https://developers.google.com/mobile-ads-sdk/docs/dfp/android/quick-start">excellent documentation</a>.
After ads are implemented and working well, adding in targeting information is a one-line change, described above.</p>
<br>
<p>Specifically, once you upgrade your BVSDK installation:
  <ul>
    <li>Change <code>getTargetedAdLoader(context, adUnitId)</code> to <code>new AdLoader.Builder(context, adUnitId)</code></li>
    <li>Change <code>getTargetedAdRequest()</code> to <code>new PublisherAdRequest.Builder()</code></li>
    <li>Change <code>getTargetedInterstitialAd(context, adUnitId)</code> to <code>PublisherInterstitialAd interstitialAd = new PublisherInterstitialAd(context); interstitialAd.setAdUnitId(adUnitId);</code></li>
    <li>Change <code>getTargetedAdView(context, adUnitId)</code> to <code>PublisherAdView bannerAd = new PublisherAdView(context); bannerAd.setAdUnitId(adUnitId);</code></li>
  </ul>
</p>
<br>

<h3>Contextual Interests</h3>
<p>BVAdvertising is structured around categories that products belong to. The list is fully defined in <code>BVContextualInterests.java</code>. It is split into two tiers, with about 30 <i>tier one</i> categories, all with multiple sub-categories (<i>tier two</i>).</p>
<p>For example, the Women's dresses section of a Target store would correspond to:</p>
<ul>
	<li>tier one: <code>tierOneApparelAndAccessories</code></li>
	<li>tier two: <code>tierTwoApparelAndAccessoriesWomensDresses</code></li>
</ul>
<p>Similarly, the Television section of a BestBuy store would correspond to:</p>
<ul>
	<li>tier one: <code>tierOneConsumerElectronics</code></li>
	<li>tier two: <code>tierTwoConsumerElectronicsTelevisions</code></li>
</ul>
<p>Note: all tier two categories are extensions of their tier one category names. Contextual Interest categories are used while sending location information to BVAdvertising, as defined below.</p>
<br>

<h3>BVAdvertising + User Location</h3>
<p>BVAdvertising provides many ways to integrate location data into a shopper's profile. All location related methods can be found in <code>Ads.java</code>, but a couple notes:</p>
<ul>
	<li>All location methods have <code>contextualTier1</code> and <code>contextualTier2</code> parameters. This allows you to send all location->interest mapping information available to BVAdvertising in order to give the shopper the best profile possible. See <code>BVContextualInterests.java</code> for a generated list of Contextual Tier 1 and Tier 2 strings.</li>
	<li>We define methods that correlate strongly to <code>LocationListener</code> interface methods -- and provide an example usage within <code>LocationManagerExmaple.java</code>.</li>
	<li>We also define methods that correlate strongly to Gimbal <code>PlaceEventListener</code> interface methods. Similarly, we provide an example usage within <code>GimbalExample.java</code>.</li>
</ul>



<div class="well well-sm">
	<h5>Author</h5>
	<p>Copyright 2016 Bazaarvoice, Inc. All right reserved.</p>
	<h5>License</h5>
	<p>Use of this SDK is contingent on your agreement and conformance with <a href="http://www.bazaarvoice.com/legal/api-terms-of-use.html">Bazaarvoice's API Terms of Use</a>. Additionally, you agree to store all data acquired by this SDK or Bazaarvoice’s API only within the storage of the individual application instance using the SDK or API. You also agree to use the data acquired by the SDK or API only within the context of the same individual application instance and only for purposes consistent with that application’s purpose. Except as otherwise noted, the Bazaarvoice iOS SDK licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, Version 2.0</a>.</p>
</div>
<br>


              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
